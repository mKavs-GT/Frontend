:root {
	--kairon-purple: #5930b3;
	--kairon-dark: #3a1f78;
	--white: #fff;
}

* {
	box-sizing: border-box
}

html,
body {
	height: 100%;
	margin: 0
}

body {
	background: #fff;
	font-family: system-ui, -apple-system, Segoe UI, Roboto, 'Helvetica Neue', Arial;
	color: #222
}

#kairon {
	position: fixed;
	right: 12px;
	bottom: 12px;
	z-index: 9999
}

#kairon-button {
	position: relative;
	width: 84px;
	height: 84px;
	border-radius: 50%;
	background: var(--kairon-purple);
	border: none;
	cursor: pointer;
	display: inline-flex;
	align-items: center;
	justify-content: center;
	box-shadow: 0 8px 20px rgba(45, 23, 90, 0.18);
	transition: transform .15s ease, box-shadow .15s ease
}

#kairon-button:focus {
	outline: 3px solid rgba(89, 48, 179, 0.18)
}

#kairon-button .inner-ring {
	width: 64px;
	height: 64px;
	border-radius: 50%;
	background: transparent;
	border: 6px solid #fff;
	box-shadow: inset 0 0 0 3px rgba(255, 255, 255, 0.02)
}

#kairon-button img.kairon-icon {
	position: relative;
	width: 48px;
	height: 48px;
	border-radius: 10px;
	object-fit: cover;
	z-index: 1
}

/* horns to approximate attachment shape */
#kairon-button .horn {
	position: absolute;
	top: 8px;
	width: 34px;
	height: 28px;
	background: var(--kairon-purple);
}

#kairon-button .horn-left {
	left: -6px;
	border-top-left-radius: 14px 10px;
	border-bottom-left-radius: 6px;
	transform: rotate(-22deg);
}

#kairon-button .horn-right {
	right: -6px;
	border-top-right-radius: 14px 10px;
	border-bottom-right-radius: 6px;
	transform: rotate(22deg);
}

#kairon-button .label {
	position: absolute;
	right: 100%;
	margin-right: 12px;
	background: var(--kairon-dark);
	color: #fff;
	padding: 8px 10px;
	border-radius: 8px;
	font-size: 13px;
	opacity: 0;
	pointer-events: none;
	transform: translateX(6px);
	transition: opacity .12s ease, transform .12s ease
}

/* hover effect: reveal label and slightly pop */
#kairon-button:hover {
	transform: translateY(-6px) scale(1.03)
}

#kairon-button:hover .label {
	opacity: 1;
	transform: translateX(0)
}

/* Chat panel (initially hidden). Position absolutely so it doesn't affect the button placement */
#kairon-panel {
	position: absolute;
	right: 0;
	bottom: calc(100% + 12px);
	width: 320px;
	max-width: calc(100vw - 48px);
	background: #fff;
	border-radius: 12px;
	box-shadow: 0 18px 40px rgba(30, 20, 60, 0.12);
	overflow: hidden;
	display: flex;
	flex-direction: column;
	transform-origin: bottom right;
	transform: translateY(12px) scale(.95);
	opacity: 0;
	pointer-events: none;
	transition: opacity .18s ease, transform .18s ease
}

#kairon.open #kairon-panel {
	transform: translateY(0) scale(1);
	opacity: 1;
	pointer-events: auto
}

.panel-header {
	display: flex;
	align-items: center;
	padding: 12px 12px;
	border-bottom: 1px solid #f0f0f0
}

.panel-header .avatar {
	width: 40px;
	height: 40px;
	border-radius: 8px;
	background: linear-gradient(180deg, var(--kairon-purple), var(--kairon-dark));
	margin-right: 10px;
	display: flex;
	align-items: center;
	justify-content: center;
	overflow: hidden
}

.panel-header .avatar img {
	width: 100%;
	border-radius: 999px;
	font-size: 13px;
	color: var(--kairon-dark);
	cursor: pointer
}

/* Category tabs / filters */
.kairon-controls {
	padding: 8px 10px;
	border-bottom: 1px solid #f6f6f8;
	background: #fff;
	display: flex;
	align-items: center;
	gap: 8px
}

.kairon-categories {
	display: flex;
	gap: 6px;
	overflow: auto;
	padding-bottom: 4px
}

.kairon-categories button {
	background: transparent;
	border: 1px solid rgba(0, 0, 0, 0.06);
	padding: 6px 8px;
	border-radius: 999px;
	font-size: 13px;
	cursor: pointer
}

.kairon-categories button.active {
	background: var(--kairon-purple);
	color: #fff;
	border-color: transparent
}

.kairon-browse-all {
	margin-left: auto;
	background: #fff;
	border: 1px solid rgba(89, 48, 179, 0.08);
	padding: 6px 8px;
	border-radius: 8px;
	cursor: pointer
}

/* Grouped results */
.kairon-group {
	padding: 8px 10px;
	border-top: 1px dashed rgba(0, 0, 0, 0.03);
}

.kairon-group h4 {
	margin: 6px 0;
	font-size: 13px
}

.kairon-faq-item {
	padding: 8px;
	border-radius: 8px;
	background: #fbfbfe;
	margin-bottom: 8px
}

.kairon-faq-meta {
	font-size: 12px;
	color: #666;
	margin-bottom: 6px
}

/* Browse All enhanced styles */
.kairon-browse-mode {
	padding: 8px
}

.kairon-browse-header {
	display: flex;
	align-items: center;
	gap: 8px;
	margin-bottom: 8px
}

.kairon-browse-tabs {
	display: flex;
	gap: 6px;
	overflow: auto;
	padding-bottom: 4px
}

.kairon-browse-tab {
	background: transparent;
	border: 1px solid rgba(0, 0, 0, 0.06);
	padding: 6px 10px;
	border-radius: 999px;
	cursor: pointer
}

.kairon-browse-tab.active {
	background: var(--kairon-purple);
	color: #fff;
	border-color: transparent
}

.kairon-browse-content {
	padding: 6px
}

.kairon-browse-search {
	margin-bottom: 8px
}

.kairon-browse-search-input {
	width: 100%;
	padding: 8px;
	border: 1px solid #e6e6e9;
	border-radius: 8px
}

.kairon-browse-list {
	display: flex;
	flex-direction: column;
	gap: 8px
}

.kairon-browse-detail summary {
	cursor: pointer;
	padding: 8px;
	background: #fff;
	border-radius: 6px;
	font-weight: 600
}

.kairon-browse-detail {
	background: #fbfbfe;
	padding: 8px;
	border-radius: 8px;
	border: 1px solid rgba(89, 48, 179, 0.03)
}

.kairon-browse-detail .faq-answer {
	margin-top: 8px
}

/* FAQ pane placed above the composer, collapsible */
.kairon-faq-pane {
	max-height: 180px;
	overflow: auto;
	padding: 8px 10px;
	border-top: 1px solid #f0f0f0;
	border-bottom: 1px solid #f0f0f0;
	background: #fff;
	transition: max-height .18s ease
}

.kairon-faq-pane.collapsed {
	max-height: 0;
	padding-top: 0;
	padding-bottom: 0;
	overflow: hidden
}

.kairon-faq-toggle {
	margin-left: 8px;
	padding: 6px 8px;
	border-radius: 8px;
	border: 1px solid rgba(89, 48, 179, 0.08);
	background: #fff;
	cursor: pointer
}

/* Navigation actions container (Contact / Pricing / Quote) */
.kairon-nav-actions {
	display: flex;
	flex-wrap: wrap;
	gap: 8px;
	padding: 10px;
	border-bottom: 1px solid #f6f6f8;
	background: #fff
}

.kairon-nav-actions .suggestion-btn {
	background: #fff;
	border: 1px solid rgba(89, 48, 179, 0.08);
}

/* Quick actions (fallback buttons) share suggestion styling but sit above messages */
.kairon-quick-actions {
	display: flex;
	gap: 8px;
	padding: 10px;
	border-bottom: 1px solid #f6f6f8;
	background: #fff
}

.kairon-quick-actions .suggestion-btn {
	background: #f7f5ff
}

.messages {
	padding: 12px;
	display: flex;
	flex-direction: column;
	gap: 8px;
	height: 220px;
	overflow: auto
}

.msg {
	max-width: 78%;
	padding: 8px 10px;
	border-radius: 10px;
	font-size: 14px
}

.msg.user {
	align-self: flex-end;
	background: #f1f1f6
}

.msg.bot {
	align-self: flex-start;
	background: #f7f5ff;
	border: 1px solid rgba(89, 48, 179, 0.08)
}

.msg.system {
	align-self: center;
	max-width: 90%;
	background: transparent;
	color: #666;
	font-size: 12px;
	text-align: center;
	padding: 4px 8px;
	font-style: italic
}

.composer {
	display: flex;
	border-top: 1px solid #eee;
	padding: 8px
}

.composer input {
	flex: 1;
	padding: 8px 10px;
	border-radius: 8px;
	border: 1px solid #e6e6e9
}

.composer button {
	margin-left: 8px;
	padding: 8px 12px;
	border-radius: 8px;
	border: 0;
	background: var(--kairon-purple);
	color: #fff
}

/* Placement variants: open above when there's space, otherwise open below */
#kairon.above #kairon-panel {
	bottom: calc(100% + 12px);
	top: auto;
	transform-origin: bottom right
}

#kairon.above #kairon-panel {
	transform: translateY(12px) scale(.95);
	opacity: 0;
	pointer-events: none
}

#kairon.above.open #kairon-panel {
	transform: translateY(0) scale(1);
	opacity: 1;
	pointer-events: auto
}

#kairon.below #kairon-panel {
	top: calc(100% + 12px);
	bottom: auto;
	transform-origin: top right
}

#kairon.below #kairon-panel {
	transform: translateY(-12px) scale(.95);
	opacity: 0;
	pointer-events: none
}

#kairon.below.open #kairon-panel {
	transform: translateY(0) scale(1);
	opacity: 1;
	pointer-events: auto
}

/* Optional visual aid during debugging - uncomment to see the panel outline */
/* #kairon .kairon-suggestions, #kairon-panel{outline: 2px dashed rgba(255,0,0,0.12);} */

/* Debug helpers (temporary) */
#kairon-panel {
	z-index: 100000
}

#kairon.debug-outline #kairon-panel {
	outline: 3px solid rgba(255, 0, 0, 0.18)
}

/* Styles for the full FAQ list */
.kairon-all-faqs {
	max-height: 320px;
	overflow: auto;
	padding: 10px 12px;
	border-top: 1px solid #f0f0f0;
	background: #fff
}

.kairon-all-faqs details {
	margin-bottom: 8px;
	border-radius: 8px;
	padding: 6px;
	background: #fbfbfe;
	border: 1px solid rgba(89, 48, 179, 0.04)
}

.kairon-all-faqs summary {
	font-weight: 600;
	cursor: pointer;
	padding: 6px
}

.kairon-all-faqs .faq-answer {
	padding: 8px 6px;
	color: #333
}

/* Contact modal inside widget */
.kairon-contact-modal {
	position: fixed;
	left: 0;
	top: 0;
	right: 0;
	bottom: 0;
	display: none;
	align-items: center;
	justify-content: center;
	z-index: 2147483646
}

.kairon-contact-modal[aria-hidden="false"] {
	display: flex
}

.kairon-contact-backdrop {
	position: absolute;
	left: 0;
	top: 0;
	right: 0;
	bottom: 0;
	background: rgba(10, 10, 12, 0.45)
}

.kairon-contact-sheet {
	position: relative;
	width: 360px;
	max-width: calc(100% - 32px);
	background: #fff;
	border-radius: 12px;
	box-shadow: 0 18px 40px rgba(10, 10, 20, 0.25);
	padding: 12px;
	z-index: 2
}

.kairon-contact-head {
	display: flex;
	align-items: center;
	gap: 8px;
	margin-bottom: 8px
}

.kairon-contact-head button {
	margin-left: auto;
	border: 0;
	background: transparent;
	font-size: 18px;
	cursor: pointer
}

.kairon-contact-form {
	display: flex;
	flex-direction: column;
	gap: 8px
}

.kairon-contact-form label {
	display: flex;
	flex-direction: column;
	font-size: 13px
}

.kairon-contact-form input,
.kairon-contact-form textarea {
	padding: 8px;
	border: 1px solid #e6e6e9;
	border-radius: 6px
}

.kairon-contact-actions {
	display: flex;
	gap: 8px;
	justify-content: flex-end;
	margin-top: 8px
}

.kairon-contact-actions button {
	padding: 8px 10px;
	border-radius: 6px;
	border: 0;
	background: var(--kairon-purple);
	color: #fff;
	cursor: pointer
}

.kairon-contact-actions #kairon-contact-mailto {
	background: #fff;
	color: var(--kairon-dark);
	border: 1px solid rgba(89, 48, 179, 0.08)
}

/* Media Queries - Responsive Design */
@media (max-width:520px) {
	.kairon-browse-header {
		flex-direction: column;
		align-items: stretch
	}

	.kairon-browse-tabs {
		flex-wrap: nowrap
	}

	.kairon-browse-tab {
		padding: 6px 8px;
		font-size: 12px
	}

	.kairon-faq-pane {
		max-height: 140px
	}
}